<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Treya Nash</title>
  <link rel="canonical" href="https://treyanash.com"/>
  <link rel="stylesheet" href="style.css">
  <script src='tone.js'></script><script  src="script.js"></script>

  <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <link rel="icon" href="media/favicon.ico">
  <meta property="og:image" content="media/ogimg.png"/>
  <meta property="og:title" content="Treya Nash" />
  <meta property=”og:type” content=”website” />
  <meta property=”og:url” content=”https://treyanash.com” />
  <meta property="og:description" content="Treya Nash is a composer and creative coder based in Baton Rouge, Louisiana." />

 <style>
    @import url('https://fonts.googleapis.com/css2?family=Quicksand&display=swap');
  </style>
</head>
<body>
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
 <div class="topnav" id="myTopnav">
  <a href="index.html" class="active" >Home</a>
  <a href="works.html" >Works</a>
  <a href="rnp.html" >Research and Projects</a>
  <a href="bio.html">Bio</a>
  <a href="calendar.html" >Calendar</a>
  <a href="contact.html" >Contact</a>
  <a href="formArt.html">Form Music</a>
</div>
<div id="mySidenav" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
  <a href="index.html" >Home</a>
  <a href="works.html">Works</a>
  <a href="rnp.html">Research and Projects</a>
  <a href="bio.html">Bio</a>
  <a href="calendar.html">Calendar</a>
  <a href="contact.html">Contact</a>
  <!-- <a href="formArt.html">Form Music</a> -->
</div>
  <div id="main">
      <span style="font-size:30px;cursor:pointer" onclick="openNav()" id="mySpan">&#9776; </span>
  </div>
  <div id="outsideDiv">
    <button id="halloween-button">Click for Halloween!</button>
    <h1 id="myName" class="flex-items" onclick="startAudio()"> Treya Nash   </h1>
    <h2 id="composer" class="flex-items"> composer | creative coder</h2>
    <div class="social-icons">
      <a href="https://www.youtube.com/@treyanash8745" title="youtube">
        <i class="fa fa-youtube-square" aria-hidden="true"></i>
      </a>
      <a href="https://www.instagram.com/treyanash/" title="instagram">  
        <i class="fa fa-instagram" aria-hidden="true"></i>
      </a>
      <a href="https://soundcloud.com/treyanash"  title="soundcloud"> 
        <i class="fa fa-soundcloud" aria-hidden="true"></i>
      </a>
      <a href="https://www.linkedin.com/in/treya-nash-4734621a4/" title="linkedin">
        <i class="fa fa-linkedin-square" aria-hidden="true"></i>
      </a>
    </div>
    <div  id="mainPic">
    <img id="mainPic1" src="media/bioImgs/T1.png" width="700px" class="flex-items" unselectable="on" onclick="{e => e.preventDefault()}" >
    
    <p style="text-align: center;">Photo by <a href="https://www.teregulovcello.com/">Eduard Teregulov</a></p>
  </div>
  </div>




  <style> 
  body {
    
    /* touch-action:manipulation; */

    -webkit-touch-callout:none;
    -webkit-user-select:none;
    -khtml-user-select:none;
    -moz-user-select:none;
    -ms-user-select:none;
    user-select:auto;
    /* background-color: black; */
  }

  #halloween-button {
    font-family: inherit;
    margin-top: 15px;
    margin-bottom: -20px;
    border: 2px rgb(2, 175, 117) solid;
    color: rgb(54, 22, 171);
    background-color: rgb(214, 255, 241)
  }
  #halloween-button:hover {
    background-color: white;
 
  }

  
  #outsideDiv {
    display: flex;
    flex-direction: column;
    align-items: center;


  }

  .div-class {
    position: absolute;
  }
  .social-icons {
    /* background-color: black; */
  }
  #myName {
    margin: 0px;
    padding: 0px;
    margin-top: 20px;
    font-size: 45px;
    background: -webkit-linear-gradient(#3a04ba, #60d44f);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  #myName1 {
    margin: 0px;
    padding: 0px;
    margin-top: 20px;
    font-size: 45px;
    background: -webkit-linear-gradient(#6100b7, #ff8a07);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  img {
    -webkit-touch-callout: none;
    touch-action: manipulation;
    touch-action: none;

  
  }


  #composer {
    margin: 0px;
    padding: 0px;
    font-size: 16px;
    background: -webkit-linear-gradient(#3a04ba, #60d44f);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  #composer1 {
    margin: 0px;
    padding: 0px;
    font-size: 16px;
    background: -webkit-linear-gradient(#ff8a07, #6100b7);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .flex-items {
    width: 100vw;
    text-align: center;
    color: rgb(0, 65, 53);
  }

  #mainPic {
    width: 600px;
  }

  #mainPic1 {
    width: 600px;
    pointer-events: none;
  }
</style>

<script>
async function startAudio() {  //This code starts the audio 
  await Tone.start()
  console.log("ready")
}


x = document.getElementById("myTopnav");
y = document.querySelector(".sidenav")
let body = document.querySelector("body")


let mainGain = new Tone.Gain(0).toDestination()


let isPlaying = false

let oneLonelyCricket = new Tone.Buffer("media/OneLonelyCricket.wav");
let witchesLaugh = new Tone.Buffer("")
let playCrick = new Tone.Player(oneLonelyCricket);
playCrick.connect(mainGain);
playCrick.loop = true;

const reverb = new Tone.Reverb({
  decay: 2, // Longer decay time for more echo
  preDelay: 0.5, // Short delay before the reverb starts
}).connect(mainGain);

// Create a delay effect
const delay = new Tone.FeedbackDelay({
  delayTime: 0.3, // Initial delay time
  feedback: 0.7, // Feedback level for multiple echoes
  wet: 0.5, // Wet signal level (mix of the effect)
}).connect(reverb);

playCrick.sync().start(0);
playCrick.sync().start(0);


  let mainImg = document.querySelector("#mainPic");
  let mainImg1 = document.querySelector("#mainPic1");
  let button = document.querySelector("#outsideDiv")
  let num = 1

let myName = document.getElementById("myName");
let comp = document.getElementById("composer")

if (window.screen.width >= 1024) {

myName.onmouseover = () => {
  // myName.style.-webkit-background-clip: text;
  // myName.style.color = "-webkit-linear-gradient(#60d44f, #3a04ba)";
  myName.innerHTML = "Neya Trash"
  startAudio()
}

myName.onmouseout = () => {
  // myName.style.color = "-webkit-linear-gradient(#3a04ba, #60d44f)";
  myName.innerHTML = "Treya Nash"


}

}

let linkArray = ["media/bioImgs/T2.png","media/bioImgs/T3.png","media/bioImgs/T4.png","media/bioImgs/T5.png","media/bioImgs/T6.png","media/bioImgs/T7.png","media/bioImgs/T8.png","media/bioImgs/T9.png","media/bioImgs/T10.png","media/bioImgs/T11.png", "media/bioImgs/T10.png", "media/bioImgs/T9.png","media/bioImgs/T8.png","media/bioImgs/T7.png","media/bioImgs/T6.png","media/bioImgs/T5.png","media/bioImgs/T4.png","media/bioImgs/T3.png","media/bioImgs/T2.png","media/bioImgs/T1.png"]
let num1 = 0;
let num2 = 0;
let num11 = 0;
let num22 = 0;
let myFunc;
let myFunc1;


if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
  mainImg.style.width = "100%";
  mainImg1.style.width = "100%";
  mainImg1.style.textAlign = "center"
  console.log(window.screen.width)
  mainImg.style.touchAction = "manipulation"

  myName.ontouchstart = () => {
   myName.innerHTML = "Neya Trash"
    
  console.log("hello")
  }
  
  myName.ontouchend = () => {
    
    myName.innerHTML = "Treya Nash"

  }
  mainImg.ontouchstart = () => {
    
    //mainImg.src = "media/Trey.jpg"
    if (playCrick.state == "stopped") {
      startAudio()
      Tone.Transport.start();
      mainGain.gain.rampTo(0.1, 3);
    }
    myFunc1 = setInterval(()=> {
      mainImg1.src = linkArray[num22]
      num22++
      console.log(num22)
      if (num22 >= linkArray.length) {
        num22 = 0
      }
      console.log("hello")
    }, 100)
  
  }
 




mainImg.ontouchend = () => {
 // mainImg.src = "media/Treya_1.jpg"
 
  if (playCrick.state == "started") {
    startAudio()
      Tone.Transport.pause();
      mainGain.gain = 0
  }
  clearInterval(myFunc1)
  console.log("ended")
}
  
 
  

} else {
  mainImg.onmouseover = () => {
 
    startAudio()
   myFunc = setInterval(()=> {
      mainImg1.src = linkArray[num2]
      num2++
      //console.log(num2)
      if (num2 >= linkArray.length) {
        num2 = 0
      }
    }, 100)

   

    if (playCrick.state == "stopped") {
      startAudio()
      Tone.Transport.start();
      mainGain.gain.rampTo(0.1, 3);
    }
  }
 

mainImg.onmouseout = () => {
  clearInterval(myFunc)
  if (playCrick.state == "started") {
      Tone.Transport.pause();
      mainGain.gain = 0
  }
  
}
}


function getRandomInt(min, max) {
  min = Math.ceil(min);
  max = Math.floor(max);
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

function getRandomFloat(min, max) {
  return Math.random() * (max - min) + min;
}

let halloweenButton = document.getElementById("halloween-button");
halloweenButton.addEventListener("click", halloween)


const halloweenEmojis = ["🎃", "👻", "🕷️", "🕸️", "🍬", "🍭", "💀", "🧟", "🧙‍♀️", "🧛‍♂️", "🧛‍♀️", "👽", "☠️", "🧹", "🦇", "🕯️", "⚰️", "🧠", "👁️"];

let panValue = 0; 

let social = document.querySelector(".social-icons");
let hallo = 1;
let isHalloweenActive = false; // Flag to track Halloween mode



// Create a spooky synth in Tone.js


// Create a vibrato effect with random depth and frequency
let emojiDisplayTime = 1000;

// Connect the synth to the vibrato effect
let noo = 1
let lowP = 300;
let highP = 350;
function createEmoji() {
  const spookyPanner = new Tone.Panner(0).toDestination(); // Start centered
  const vibrato = new Tone.Vibrato({
  frequency: getRandomFloat(4, 8), // Random frequency for vibrato
  depth: getRandomFloat(0.5, 1), // Random depth for vibrato
}).connect(spookyPanner);

spookyPanner.pan.value = panValue;

const lowPassFilter = new Tone.Filter({
  frequency: 500, // Adjust the cutoff frequency as needed
  type: "lowpass", // Low-pass filter type
  rolloff: -12, // Roll-off of -12 dB/octave
}).connect(vibrato)
  let spookySynth1 = new Tone.Synth({
  oscillator: {
    type: "triangle", // Change to sine for a smoother sound
  },
  envelope: {
    attack: 0.5,
    decay: 0.3,
    sustain: 0.5,
    release: 1,
  },
}).connect(lowPassFilter)
  emojiDisplayTime = getRandomInt(200, 1000); // Random time for the emoji to stay
  const randPitch = getRandomFloat(lowP, highP) // Random pitch for the spooky synth
  setInterval(() => {
    if (noo == 1) {
      lowP = 300
      noo = 2
      console.log("noo")
    } else if (noo == 2) {
      lowP = 400;
      highP = 450;
      noo = 3
      console.log("woo")
    }  else if (noo == 3) {
      lowP = 200;
      highP = 250;
      noo = 4
    }  else if (noo == 4) {
      lowP = 200;
      highP = 550;
      noo = 5
    }  else if (noo == 5) {
      lowP = 300;
      highP = 500;
      noo = 6
    }  else if (noo == 6) {
      lowP = 200;
      highP = 201;
      noo = 7
    }  else if (noo == 7) {
      lowP = 200;
      highP = 350;
      noo = 1
    }
  }, 20000)
  const emojiIndex = Math.floor(Math.random() * halloweenEmojis.length); // Select a random emoji

  // Create the emoji
  let div = document.createElement("div");
  div.classList.add("div-class");
  div.innerHTML = halloweenEmojis[emojiIndex];
  let randomPos = getRandomInt(5, 95)
  div.style.left = `${randomPos}vw`;
  div.style.top = `${getRandomInt(10, 90)}vh`;
  div.style.transform = `scale(${getRandomFloat(0.5, 5)}) rotate(${getRandomInt(0, 360)}deg)`;
  document.body.appendChild(div);

  // Play spooky synth sound
  spookySynth1.triggerAttackRelease(randPitch, (emojiDisplayTime / 1000) - 0.1); // Start the synth sound
  panValue = (randomPos / 100) * 2 - 1; // Convert percentage to panning range
spookyPanner.pan.value = panValue
// Update panner's position
console.log(panValue)

  // Release the sound and remove the emoji after display time
  // setTimeout(() => {
  //   spookySynth.triggerRelease(); // Stop the synth sound
  // }, emojiDisplayTime);
}


function createEmojisWithRandomInterval() {
  if (!isHalloweenActive) return; // Stop if Halloween mode is not active

  const emojiCreationInterval = getRandomInt(500, 3000); // Random interval time

  setTimeout(() => {
    createEmoji(); // Create an emoji
    createEmojisWithRandomInterval(); // Recursively call to create more emojis
 
  }, emojiCreationInterval);
}

function halloween() {
  if (hallo == 1) {
    // Starting Halloween mode
    hallo = 0; // Set the hallo flag to indicate Halloween mode is active
    isHalloweenActive = true; // Set the flag to true

    createEmojisWithRandomInterval(); // Start creating emojis with random intervals

    document.body.style.backgroundColor = "black";
    social.style.backgroundColor = "black";
    social.style.color = "white";
    myName.id = "myName1";
    comp.id = "composer1";
    x.style.backgroundImage = "linear-gradient(to right, #6100b7, #ff8a07"
    y.style.background = "-webkit-linear-gradient(#6100b7, #ff8a07)";
    halloweenButton.style.border = "2px #ff8a07 solid";
    halloweenButton.style.color = "#6100b7"
    halloweenButton.style.backgroundColor = "#ffe1bc"
    halloweenButton.innerHTML = "End Halloween :'(";
    mainImg1.src = "media/bioImgs/TH1.png"
    linkArray = ["media/bioImgs/TH2.png","media/bioImgs/TH3.png","media/bioImgs/TH4.png","media/bioImgs/TH5.png","media/bioImgs/TH6.png","media/bioImgs/TH7.png","media/bioImgs/TH8.png","media/bioImgs/TH9.png","media/bioImgs/TH10.png","media/bioImgs/TH11.png", "media/bioImgs/TH10.png", "media/bioImgs/TH9.png","media/bioImgs/TH8.png","media/bioImgs/TH7.png","media/bioImgs/TH6.png","media/bioImgs/TH5.png","media/bioImgs/TH4.png","media/bioImgs/TH3.png","media/bioImgs/TH2.png","media/bioImgs/TH1.png"]
    playCrick.connect(reverb)
  } else {
    // Exiting Halloween mode
    isHalloweenActive = false; // Set the flag to false
    clearEmojis(); // Remove all div-class elements
    playCrick.disconnect(reverb)
    // playCrick.connect(mainGain)
    document.body.style.backgroundColor = "white";
    social.style.backgroundColor = "white";
    x.style.backgroundImage = "linear-gradient(to right, #3a04ba, #60d44f)"
    mainImg1.src = "media/bioImgs/T1.png"
    y.style.background = "-webkit-linear-gradient(#60d44f, #3a04ba)";
    halloweenButton.innerHTML = "Click for Halloween!";
    myName.id = "myName";
    comp.id = "composer";
    halloweenButton.style.border = "2px rgb(2, 175, 117) solid";
    halloweenButton.style.color = "rgb(54, 22, 171)"
    halloweenButton.style.backgroundColor = "rgb(214, 255, 241)"
    hallo = 1; // Reset the hallo flag
    linkArray = ["media/bioImgs/T2.png","media/bioImgs/T3.png","media/bioImgs/T4.png","media/bioImgs/T5.png","media/bioImgs/T6.png","media/bioImgs/T7.png","media/bioImgs/T8.png","media/bioImgs/T9.png","media/bioImgs/T10.png","media/bioImgs/T11.png", "media/bioImgs/T10.png", "media/bioImgs/T9.png","media/bioImgs/T8.png","media/bioImgs/T7.png","media/bioImgs/T6.png","media/bioImgs/T5.png","media/bioImgs/T4.png","media/bioImgs/T3.png","media/bioImgs/T2.png","media/bioImgs/T1.png"]

    // Stop the spooky synth when exiting Halloween mode
    // spookySynth.triggerRelease();
  }
}

// Function to clear all emojis
function clearEmojis() {
  const emojis = document.querySelectorAll('.div-class'); // Select all emojis
  console.log(`Clearing ${emojis.length} emojis`); // Log number of emojis
  emojis.forEach(emoji => emoji.remove()); // Remove each emoji from the DOM
  console.log(`Emojis cleared`); // Log after clearing
}


// Button event listener



// Function to play a spooky sound
// function playSpookySynth() {
//   spookySynth.triggerAttack(getRandomInt(200, 500)); // Start the synth sound
//   setTimeout(() => {
//     spookySynth.triggerRelease(); // Stop the synth sound before the next emoji
//   }, intervalTime); // Duration until the next emoji is generated
// }



</script>


</meta>
  <!-- <script src="/socket.io/socket.io.js"></script> -->
</body>
</html>
